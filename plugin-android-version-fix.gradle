repositories {
    mavenCentral()
    maven { url 'https://maven.fabric.io/public' }
    maven { url 'https://maven.google.com' }
    jcenter()
}

dependencies {
    classpath 'io.fabric.tools:gradle:1.25.4'
    classpath 'com.google.gms:google-services:+'
}

apply plugin: 'com.google.gms.google-services'
apply plugin: 'io.fabric'

def PLUGIN_NAME = "cordova-plugin-android-version-fix"

ext {PLAY_SERVICES_VERSION = "+"}

// List of libs to search for.
def LIBS = [
    'com.google.android.gms',
]

println("+-----------------------------------------------------------------");
println("| " + PLUGIN_NAME + ": " + PLAY_SERVICES_VERSION);
println("+-----------------------------------------------------------------");

configurations.all {
    resolutionStrategy.eachDependency { DependencyResolveDetails details ->
        if (details.requested.group in LIBS) { details.useVersion PLAY_SERVICES_VERSION }
    }
}