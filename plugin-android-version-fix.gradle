def PLUGIN_NAME = "cordova-plugin-zandroid-version-fix"

ext {PLAY_SERVICES_VERSION = "+"}

// List of libs to search for.
def LIBS = [
    'com.google.android.gms',
]

println("+-----------------------------------------------------------------");
println("| " + PLUGIN_NAME + ": " + PLAY_SERVICES_VERSION);
println("+-----------------------------------------------------------------");

configurations.all {
    resolutionStrategy.eachDependency { DependencyResolveDetails details ->
        if (details.requested.group in LIBS) { details.useVersion PLAY_SERVICES_VERSION }
    }
}

// buildscript
println("Executing Task: " + project.gradle.startParameter.taskNames);
buildscript {
    repositories {
        mavenCentral()
        jcenter()
    }
    dependencies {
        classpath 'com.google.gms:google-services:+'
    }
}

apply plugin: 'com.google.gms.google-services'